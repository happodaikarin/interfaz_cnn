{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  if (!image) return;\n  const formData = new FormData();\n  formData.append('file', image);\n  try {\n    const response = await fetch('http://localhost:5000/predict', {\n      method: 'POST',\n      body: formData\n    });\n    const data = await response.json();\n    if (data.especieInfo) {\n      setPrediction(data.especieInfo.nombre); // Asegúrate de que esto coincida con la estructura de datos enviada desde Flask\n    } else {\n      setPrediction('Predicción no disponible');\n    }\n  } catch (error) {\n    console.error('Error al enviar la imagen:', error);\n    setPrediction('Error al procesar la imagen');\n    setImageToShow(null); // En caso de error, no mostrar imagen\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","image","formData","FormData","append","response","fetch","method","body","data","json","especieInfo","setPrediction","nombre","error","console","setImageToShow"],"sources":["/home/happodaikarin/carpeeta2/proyectoRN/FrontEnd/interfaz_cnn/src/components/ImageUpload.js"],"sourcesContent":["const handleSubmit = async (e) => {\n  e.preventDefault();\n  if (!image) return;\n\n  const formData = new FormData();\n  formData.append('file', image);\n\n  try {\n    const response = await fetch('http://localhost:5000/predict', {\n      method: 'POST',\n      body: formData,\n    });\n    const data = await response.json();\n    if (data.especieInfo) {\n      setPrediction(data.especieInfo.nombre); // Asegúrate de que esto coincida con la estructura de datos enviada desde Flask\n    } else {\n      setPrediction('Predicción no disponible');\n    }\n  } catch (error) {\n    console.error('Error al enviar la imagen:', error);\n    setPrediction('Error al procesar la imagen');\n    setImageToShow(null); // En caso de error, no mostrar imagen\n  }\n};\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClB,IAAI,CAACC,KAAK,EAAE;EAEZ,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,KAAK,CAAC;EAE9B,IAAI;IACF,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAA+B,EAAE;MAC5DC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEN;IACR,CAAC,CAAC;IACF,MAAMO,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAClC,IAAID,IAAI,CAACE,WAAW,EAAE;MACpBC,aAAa,CAACH,IAAI,CAACE,WAAW,CAACE,MAAM,CAAC,CAAC,CAAC;IAC1C,CAAC,MAAM;MACLD,aAAa,CAAC,0BAA0B,CAAC;IAC3C;EACF,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClDF,aAAa,CAAC,6BAA6B,CAAC;IAC5CI,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;EACxB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}